<!doctype html>
<html lang='en' ng-app="TrainStationApp">
<head>
    <meta charset='utf-8'/>
    <title>Train station app</title>
    <link rel='stylesheet' type='text/css' href='css/animate.css' />
    <link rel='stylesheet' type='text/css' href='css/main.css' />
</head>
<body>

<div class='wrapper'>
    <section class='search_section' ng-controller="StationController">
        <header>
            <input  ng-model="$storage.localSearchQuery" 
                    ng-change="updateLocalStorage($storage.localSearchQuery)">

            <select ng-model="searchType">
                <option value=''>-- TYPE --</option>
                <option value='stoptreinstation'>Stop trein station</option>
                <option value='knooppuntintercitystation'>Knoop punt intercity station</option>
                <option value='megastation'>Mega Station</option>
            </select>
            
            <span>
                {{ $storage.sessionHistory.query }} @ 
                {{ $storage.sessionHistory.date | date:'d MMM yyyy HH:mm:ss'}}    
            </span>
        </header> 
        <div class='train_stations_list'>
            <div class='data-row animated fadeIn'
                 ng-click="selectStation(station)" 
                 ng-repeat="station in stations | filter:{'name': $storage.localSearchQuery, 'type': searchType}">
                 {{ station.name }}
            </div>
        </div>

        <div class="x-button animate" ng-show="selectedStation"
             ng-click="selectedStation=''">terug</div>

        <div class="menu animate" ng-show="selectedStation">
            <h4> 
                <u>{{selectedStation.name}}</u> 
                ({{selectedStation.type}})
            </h4>
            <p>
                {{selectedStation.geoLat}} / {{selectedStation.geoLong}}
                <br>
                <br>    
                {{selectedStation.code}}: {{selectedStation.uic}}
                <br>
                Middel: {{selectedStation.middleName}}
                <br>
                Kort: {{selectedStation.shortName}}
                <br>
                rdt_url: {{selectedStation.rdtURL}}
            </p>
        </div>

    </section>
</div>

<script src='lib/angular.js'></script>
<script src='lib/angular-animate.js'></script>
<script src='lib/ngStorage.js'></script>
<script src='app/app.js'></script>
<script src='app/controllers/TrainStationController.js'></script>
</body>
</html>
